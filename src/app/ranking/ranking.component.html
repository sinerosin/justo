<ion-split-pane contentId="main-content">
  <ion-menu contentId="main-content" type="overlay">
    <ion-content class="sidebar-content">
      <div class="brand-section">
        <span class="material-symbols-outlined neon-text">deployed_code</span>
        <div>
          <h3>BETSTARS</h3>
          <p>SISTEMA_ACTIVO v2.0</p>
        </div>
      </div>

      <ion-list lines="none" class="menu-list">
        <ion-item button (click)="navigateTo('/home')" class="active-item">
          <span class="material-symbols-outlined" slot="start">dashboard</span>
          <ion-label>PANEL</ion-label>
        </ion-item>
        <ion-item button (click)="navigateTo('/liga')">
          <span class="material-symbols-outlined" slot="start">military_tech</span>
          <ion-label>LIGA</ion-label>
        </ion-item>
        <ion-item button (click)="navigateTo('/ranking')">
          <span class="material-symbols-outlined" slot="start">leaderboard</span>
          <ion-label>RANKING</ion-label>
        </ion-item>
        <ion-item button (click)="navigateTo('/perfil')">
          <span class="material-symbols-outlined" slot="start">person</span>
          <ion-label>PERFIL</ion-label>
        </ion-item>
        <ion-item button (click)="navigateTo('/historial')">
          <span class="material-symbols-outlined" slot="start">history</span>
          <ion-label>HISTORIAL</ion-label>
        </ion-item>
      </ion-list>

      <div class="sidebar-footer">
        <ion-item lines="none" class="user-item">
          <div slot="start" class="avatar-sidebar">
            <span class="material-symbols-outlined">{{ currentUser.avatar || 'account_circle' }}</span>
          </div>
          <ion-label>
            <h2>{{ currentUser.username }}</h2>
          </ion-label>
        </ion-item>
        <ion-button expand="block" fill="outline" class="logout-btn" (click)="logout()">
          <span class="material-symbols-outlined" slot="start">logout</span>
          LOGOUT
        </ion-button>
      </div>
    </ion-content>
  </ion-menu>

  <div class="ion-page" id="main-content">
  <ion-header class="ion-no-border">
    <ion-toolbar color="black">
      <ion-buttons slot="start"><ion-menu-button color="danger"></ion-menu-button></ion-buttons>
      <ion-title>TOP_OPERADORES</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content class="dark-theme">
    <div class="ranking-wrapper">
      <div class="podium-container">
        <div class="podium-box first">
          <div class="avatar-glow">
            <span class="material-symbols-outlined" style="font-size: 50px; color: var(--accent-red)">trophy</span>
          </div>
          <div class="box">
            <span class="pts">{{ topThree[0]?.points }} PTS</span>
            <span class="rank">#1</span>
          </div>
          <span class="username">{{ topThree[0]?.username }}</span>
        </div>
      </div>

      <ion-card class="ranking-table-card">
        <ion-list lines="full">
          <ion-item *ngFor="let user of leaderboard; let i = index">
            <div class="pos-badge" [class.gold]="i===0">{{ i + 1 }}</div>
            <span class="material-symbols-outlined" slot="start" style="color: var(--accent-red)">{{ user.avatar || 'account_circle' }}</span>
            <ion-label><h3>{{ user.username }}</h3></ion-label>
            <ion-text slot="end" class="final-pts">{{ user.points }}</ion-text>
          </ion-item>
        </ion-list>
      </ion-card>
    </div>
  </ion-content>
</div>
</ion-split-pane>